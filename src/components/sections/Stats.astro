---
import type { Stat } from '@data/stats';
import { getBackgroundColor, getTextColor, getPaddingClass } from '@utils/styleUtils';
import type { ThemeColor, PaddingSize } from '@utils/styleUtils';

export interface Props {
    content: {
        title?: string;
        description?: string;
        stats: Stat[];
    };
    background?: ThemeColor;
    padding?: PaddingSize;
    paddingTop?: PaddingSize;
    paddingBottom?: PaddingSize;
}

const { content, background = 'base', padding, paddingTop, paddingBottom } = Astro.props;

const { title, description, stats } = content;

const bgColor = getBackgroundColor(background);
const textColor = getTextColor(background);
const paddingClass = getPaddingClass({ padding, paddingTop, paddingBottom });
---

<section class:list={['overflow-hidden', bgColor, paddingClass]}>
    <div class="site-container px-4">
        {
            (title || description) && (
                <div class="text-center mb-16">
                    {title && (
                        <h2 class:list={[textColor]} data-aos="fade-up">
                            {title}
                        </h2>
                    )}
                    {description && (
                        <p class:list={['mt-4', textColor, 'opacity-90']} data-aos="fade-up" data-aos-delay="100">
                            {description}
                        </p>
                    )}
                </div>
            )
        }

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            {
                stats.map((stat, index) => (
                    <div class="text-center" data-aos="fade-up" data-aos-delay={index * 100}>
                        {stat.icon && (
                            <div class:list={['flex justify-center mb-4', textColor]}>
                                <stat.icon size={48} />
                            </div>
                        )}
                        <p class:list={['text-lg', textColor, 'opacity-90']}>{stat.label}</p>
                    </div>
                ))
            }
        </div>
    </div>
</section>
