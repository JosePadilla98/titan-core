---
import { Plus, Minus } from 'lucide-astro';

interface Props {
    title: string;
    description: string;
    icon?: any;
    showIcons?: boolean;
}

const { title, description, icon: Icon, showIcons = true } = Astro.props;
---

<details class="bg-white rounded-lg border border-primary/20">
    <summary
        class="cursor-pointer p-6 flex justify-between items-center hover:bg-background-light transition-colors duration-300"
    >
        <div class={showIcons ? 'flex items-start gap-4' : ''}>
            {showIcons && Icon && <Icon class="w-6 h-6 text-primary flex-shrink-0 mt-1" />}
            <div>
                <h3 class="text-xl font-bold text-headline">
                    {title}
                </h3>
                <p class="text-base text-body-base mt-2">
                    {description}
                </p>
            </div>
        </div>
        <div class="relative flex-shrink-0 w-6 h-6">
            <Plus class="absolute inset-0 w-6 h-6 text-primary plus" />
            <Minus class="absolute inset-0 w-6 h-6 text-primary minus" />
        </div>
    </summary>
    <div class="px-6 pb-6">
        <div class="pt-4 border-t border-gray-200">
            <slot />
        </div>
    </div>
</details>

<style>
    .plus,
    .minus {
        transition: opacity 0.2s ease-out;
    }

    details[open] .plus {
        opacity: 0;
        pointer-events: none;
    }

    details:not([open]) .minus {
        opacity: 0;
        pointer-events: none;
    }
</style>
