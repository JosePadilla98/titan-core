---
import { Plus, Minus } from 'lucide-astro';

interface Props {
    title: string;
    description: string;
    icon?: any;
    showIcons?: boolean;
}

const { title, description, icon: Icon, showIcons = true } = Astro.props;
---

<details
    class="bg-white rounded-xl border border-primary/20 shadow-lg hover:shadow-xl transition-all duration-500 ease-in-out transform hover:-translate-y-1"
>
    <summary
        class="cursor-pointer p-6 md:p-8 flex flex-col justify-between items-center hover:bg-gradient-to-br hover:from-primary/5 hover:to-primary/10 transition-all duration-500 rounded-xl"
    >
        {showIcons && Icon && <Icon class="size-12 md:size-16 my-4 md:my-6 text-primary flex-shrink-0 mt-1 md:mt-2" />}
        <div class={'text-center'}>
            <div>
                <h3 class="text-xl md:text-2xl font-bold text-headline leading-tight">
                    {title}
                </h3>
                <p class="text-base md:text-lg text-body-base mt-3 md:mt-4 leading-relaxed">
                    {description}
                </p>
            </div>
        </div>
        <div class="relative flex-shrink-0 w-6 h-6 md:w-8 md:h-8 mt-6 md:mt-10">
            <Plus
                class="absolute inset-0 w-6 h-6 md:w-8 md:h-8 text-primary plus transition-all duration-300 transform hover:scale-110"
            />
            <Minus
                class="absolute inset-0 w-6 h-6 md:w-8 md:h-8 text-primary minus transition-all duration-300 transform hover:scale-110"
            />
        </div>
    </summary>
    <div class="px-8 md:px-12 pb-8 md:pb-12 fade-in">
        <div class="pt-6 md:pt-8 relative">
            <div class="absolute top-0 left-0 right-0 h-0.5 bg-gradient-to-r from-primary/20 to-primary/40"></div>
            <div class="space-y-6">
                <slot />
            </div>
        </div>
    </div>
</details>

<style>
    .plus,
    .minus {
        transition: opacity 0.2s ease-out;
    }

    details[open] .plus {
        opacity: 0;
        pointer-events: none;
    }

    details:not([open]) .minus {
        opacity: 0;
        pointer-events: none;
    }

    .fade-in {
        animation: fadeIn 0.5s ease-in-out;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>
