---
import Hero from '@components/sections/Hero.astro';
import DetailedTabs from '@components/ui/DetailedTabs.astro';
import { siteConfig } from '@data/config';
import Layout from '@layouts/Layout.astro';
import { COOL_TEXT_STYLE } from '@utils/styleUtils';
import {
    BadgeCheck,
    Battery,
    FileText,
    GraduationCap,
    Home,
    Settings,
    SwatchBook,
    Workflow,
    Wrench,
    Zap,
} from 'lucide-astro';
import Ampliaciones from './tabs/ampliaciones.astro';
import AutoconsumoAislado from './tabs/autoconsumo-aislado.astro';
import AutoconsumoConectado from './tabs/autoconsumo-conectado.astro';
import BateriasRespaldo from './tabs/baterias-respaldo.astro';
import Legalizacion from './tabs/legalizacion.astro';
import Mantenimiento from './tabs/mantenimiento.astro';

import Stats from '@components/sections/Stats.astro';

import image1 from '../../assets/images/instalaciones-fotovoltaicas/carousel/1.jpg';
import image2 from '../../assets/images/instalaciones-fotovoltaicas/carousel/2.jpg';
import image3 from '../../assets/images/instalaciones-fotovoltaicas/carousel/3.jpg';
import image4 from '../../assets/images/instalaciones-fotovoltaicas/carousel/4.jpg';
import image5 from '../../assets/images/instalaciones-fotovoltaicas/carousel/5.jpg';
import image6 from '../../assets/images/instalaciones-fotovoltaicas/carousel/6.jpg';
import image7 from '../../assets/images/instalaciones-fotovoltaicas/carousel/7.jpg';
import image8 from '../../assets/images/instalaciones-fotovoltaicas/carousel/8.jpg';

import mp4 from '../../assets/images/instalaciones-fotovoltaicas/headerlargo.mp4';
import webm from '../../assets/images/instalaciones-fotovoltaicas/headerlargo.webm';
import Carousel from '@components/ui/Carousel.astro';


const heroContent = {
    title: 'Instalaciones solares fotovoltaicas',
    description:
        'Adaptadas a cada cliente, gestionando también todos los trámites necesarios como licencia de obra, certificados energéticos y legalización.',
    backgroundImage: { poster: '/images/postersolar.webp', webm, mp4 },
    overlayOpacity: 0.2,
    buttons: [
        {
            text: 'Solicitar presupuesto',
            link: `tel:${siteConfig.Socials.Phone}`,
            target: '_self',
        },
    ],
};

const seoTitle = 'Instalaciones Fotovoltaicas - Ampereon Energía Solar';
const seoDescription =
    'Expertos en instalaciones fotovoltaicas de autoconsumo. Sistemas solares para viviendas, empresas y comunidades con ahorro garantizado.';

const iconStats = {
    title: '¿Por qué elegir Ampereon?',
    stats: [
        {
            label: 'Experiencia y formación en energía fotovoltaica',
            icon: GraduationCap, // Experiencia y formación
        },
        {
            label: 'Proyectos personalizados, no kits genéricos',
            icon: Settings, // Personalización
        },
        {
            label: 'Materiales de primeras marcas',
            icon: BadgeCheck, // Calidad y marcas
        },
        {
            label: 'Gestión completa: desde el diseño hasta la puesta en marcha',
            icon: Workflow, // Gestión integral
        },
    ],
};

const FooterCta = {
    title: '¿Quieres producir tu propia energía solar?',
    description:
        'En Ampereon te asesoramos y gestionamos todo el proceso para que empieces a ahorrar desde el primer día.',
    hideCta: false,
    button: {
        text: 'Contactar ahora',
        link: '/contact',
        target: '_self',
    },
    postBtnDescription: '',
};

const solarTabs = {
    title: 'Nuestros Servicios de Energía Solar',
    description:
        'Descubre nuestros servicios especializados en instalaciones fotovoltaicas, desde sistemas conectados a red hasta soluciones aisladas y mantenimiento.',
    tabs: [
        {
            id: 'autoconsumo-conectado',
            label: 'Autoconsumo Conectado a Red',
            icon: Zap,
            content: AutoconsumoConectado,
        },
        {
            id: 'autoconsumo-aislado',
            label: 'Autoconsumo Aislado de la Red',
            icon: Home,
            content: AutoconsumoAislado,
        },
        {
            id: 'mantenimiento',
            label: 'Mantenimiento',
            icon: Wrench,
            content: Mantenimiento,
        },
        {
            id: 'baterias-respaldo',
            label: 'Baterías y Sistemas de Respaldo',
            icon: Battery,
            content: BateriasRespaldo,
        },
        {
            id: 'ampliaciones',
            label: 'Ampliaciones',
            icon: SwatchBook,
            content: Ampliaciones,
        },
        {
            id: 'legalizacion',
            label: 'Legalización',
            icon: FileText,
            content: Legalizacion,
        },
    ],
};

const media = [
    {
        src: image1.src,
        alt: 'Instalación solar',
        type: 'image' as const,
    },
    {
        src: image2.src,
        alt: 'Instalación solar',
        type: 'image' as const,
    },
    {
        src: image3.src,
        alt: 'Instalación solar',
        type: 'image' as const,
    },
    {
        src: image4.src,
        alt: 'Instalación solar',
        type: 'image' as const,
    },
    {
        src: image5.src,
        alt: 'Instalación solar',
        type: 'image' as const,
    },
    {
        src: image6.src,
        alt: 'Instalación solar',
        type: 'image' as const,
    },
    {
        src: image7.src,
        alt: 'Instalación solar',
        type: 'image' as const,
    },
    {
        src: image8.src,
        alt: 'Instalación solar',
        type: 'image' as const,
    },
];
---

<Layout title={seoTitle} description={seoDescription} footerCta={FooterCta}>
    <Hero content={heroContent} />
    <section class="pt-16">
        <div class="container mx-auto px-4 text-center">
            <h3 class={COOL_TEXT_STYLE}>
                Expertos en instalaciones solares conectadas a red, sistemas aislados y mantenimiento fotovoltaico en
                Sevilla y alrededores.
            </h3>
        </div>
    </section>

    <!-- Sección: Energía solar (por tabs) -->
    <DetailedTabs content={solarTabs} padding="base" background="base" />

    <Stats content={iconStats} background="dark" className="pt-24 pb-32">
        <div class="mt-20">
            <div class="text-center mb-12">
                <h3 class="text-secondary font-light text-2xl lg:text-3xl">Nuestras instalaciones:</h3>
            </div>
            <Carousel {media} />
        </div>
    </Stats>
</Layout>
